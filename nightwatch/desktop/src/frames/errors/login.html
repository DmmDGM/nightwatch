<div id = "failure"></div>
<script>
    (() => {
        const { auth } = nightwatch;
        document.getElementById("failure").innerHTML = `
            <h5>Login Failure</h5>
            <hr>
            <p>
                The authentication server you use (${auth.auth_server}) has failed to authenticate you. <br>
                Error details: <code>${auth._error.message}</code>
            </p>
            <div class = "d-flex justify-content-end gap-2">
                <button class = "btn btn-secondary" onclick = "nightwatch.frame.load_as_modal('settings');">Settings</button>
                <button class = "btn btn-danger" onclick = "nightwatch.frame.load('auth/login');">Relogin</button>
            </div>
        `;
        delete auth._error;
    })();
</script>